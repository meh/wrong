#include <wrong/mistake>

using namespace wrong;

int
main ()
{
	mistake my;

	my.dependency("foo")
		.place(place::git()
			.remote("https://github.com/meh/wrong")
			.root("example/foo"))
		.provides<program>("foo", prepare::link());

	my.dependency("bar")
		.place(place::local()
			.path("example/bar"))
		.provides<library>("bar", prepare::archive());

	my.program("bar")
		// NOTE(meh): This adds a `prepare<provision>` to a list of required
		//            provisions, which will then be built, it's essentially
		//            a future.
		.requires<program>("foo::foo");

	return my.build("foo");
}
